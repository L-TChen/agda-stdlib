<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effect.Monad.State.Transformer.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Basic definition and functions on the state monad transformer</a>
<a id="171" class="Comment">------------------------------------------------------------------------</a>

<a id="245" class="Symbol">{-#</a> <a id="249" class="Keyword">OPTIONS</a> <a id="257" class="Pragma">--cubical-compatible</a> <a id="278" class="Pragma">--safe</a> <a id="285" class="Symbol">#-}</a>


<a id="291" class="Keyword">module</a> <a id="298" href="Effect.Monad.State.Transformer.Base.html" class="Module">Effect.Monad.State.Transformer.Base</a> <a id="334" class="Keyword">where</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Data.Product.html" class="Module">Data.Product</a> <a id="366" class="Keyword">using</a> <a id="372" class="Symbol">(</a><a id="373" href="Data.Product.Base.html#1118" class="Function Operator">_×_</a><a id="376" class="Symbol">;</a> <a id="378" href="Data.Product.Base.html#617" class="Field">proj₁</a><a id="383" class="Symbol">;</a> <a id="385" href="Data.Product.Base.html#631" class="Field">proj₂</a><a id="390" class="Symbol">)</a>
<a id="392" class="Keyword">open</a> <a id="397" class="Keyword">import</a> <a id="404" href="Data.Unit.Polymorphic.Base.html" class="Module">Data.Unit.Polymorphic.Base</a> <a id="431" class="Keyword">using</a> <a id="437" class="Symbol">(</a><a id="438" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a><a id="439" class="Symbol">)</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Function.Base.html" class="Module">Function.Base</a> <a id="467" class="Keyword">using</a> <a id="473" class="Symbol">(</a><a id="474" href="Function.Base.html#3646" class="Function Operator">_∘′_</a><a id="478" class="Symbol">;</a> <a id="480" href="Function.Base.html#725" class="Function">const</a><a id="485" class="Symbol">;</a> <a id="487" href="Function.Base.html#704" class="Function">id</a><a id="489" class="Symbol">)</a>
<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Level.html" class="Module">Level</a> <a id="509" class="Keyword">using</a> <a id="515" class="Symbol">(</a><a id="516" href="Agda.Primitive.html#591" class="Postulate">Level</a><a id="521" class="Symbol">;</a> <a id="523" href="Agda.Primitive.html#774" class="Primitive">suc</a><a id="526" class="Symbol">;</a> <a id="528" href="Agda.Primitive.html#804" class="Primitive Operator">_⊔_</a><a id="531" class="Symbol">)</a>

<a id="534" class="Keyword">open</a> <a id="539" class="Keyword">import</a> <a id="546" href="Effect.Functor.html" class="Module">Effect.Functor</a>

<a id="562" class="Keyword">private</a>
  <a id="572" class="Keyword">variable</a>
    <a id="585" href="Effect.Monad.State.Transformer.Base.html#585" class="Generalizable">f</a> <a id="587" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a> <a id="589" class="Symbol">:</a> <a id="591" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="601" href="Effect.Monad.State.Transformer.Base.html#601" class="Generalizable">A</a> <a id="603" class="Symbol">:</a> <a id="605" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="609" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a>
    <a id="615" href="Effect.Monad.State.Transformer.Base.html#615" class="Generalizable">S</a> <a id="617" class="Symbol">:</a> <a id="619" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="623" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a>
    <a id="629" href="Effect.Monad.State.Transformer.Base.html#629" class="Generalizable">M</a> <a id="631" class="Symbol">:</a> <a id="633" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="637" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a> <a id="639" class="Symbol">→</a> <a id="641" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="645" href="Effect.Monad.State.Transformer.Base.html#585" class="Generalizable">f</a>

<a id="648" class="Comment">------------------------------------------------------------------------</a>
<a id="721" class="Comment">-- State monad operations</a>

<a id="748" class="Keyword">record</a> <a id="RawMonadState"></a><a id="755" href="Effect.Monad.State.Transformer.Base.html#755" class="Record">RawMonadState</a>
       <a id="776" class="Symbol">(</a><a id="777" href="Effect.Monad.State.Transformer.Base.html#777" class="Bound">S</a> <a id="779" class="Symbol">:</a> <a id="781" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="785" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a><a id="786" class="Symbol">)</a>
       <a id="795" class="Symbol">(</a><a id="796" href="Effect.Monad.State.Transformer.Base.html#796" class="Bound">M</a> <a id="798" class="Symbol">:</a> <a id="800" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="804" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a> <a id="806" class="Symbol">→</a> <a id="808" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="812" href="Effect.Monad.State.Transformer.Base.html#585" class="Generalizable">f</a><a id="813" class="Symbol">)</a>
       <a id="822" class="Symbol">:</a> <a id="824" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="828" class="Symbol">(</a><a id="829" href="Agda.Primitive.html#774" class="Primitive">suc</a> <a id="833" href="Effect.Monad.State.Transformer.Base.html#785" class="Bound">s</a> <a id="835" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="837" href="Effect.Monad.State.Transformer.Base.html#812" class="Bound">f</a><a id="838" class="Symbol">)</a> <a id="840" class="Keyword">where</a>
  <a id="848" class="Keyword">field</a>
    <a id="RawMonadState.gets"></a><a id="858" href="Effect.Monad.State.Transformer.Base.html#858" class="Field">gets</a>   <a id="865" class="Symbol">:</a> <a id="867" class="Symbol">(</a><a id="868" href="Effect.Monad.State.Transformer.Base.html#777" class="Bound">S</a> <a id="870" class="Symbol">→</a> <a id="872" href="Effect.Monad.State.Transformer.Base.html#601" class="Generalizable">A</a><a id="873" class="Symbol">)</a> <a id="875" class="Symbol">→</a> <a id="877" href="Effect.Monad.State.Transformer.Base.html#796" class="Bound">M</a> <a id="879" href="Effect.Monad.State.Transformer.Base.html#601" class="Generalizable">A</a>
    <a id="RawMonadState.modify"></a><a id="885" href="Effect.Monad.State.Transformer.Base.html#885" class="Field">modify</a> <a id="892" class="Symbol">:</a> <a id="894" class="Symbol">(</a><a id="895" href="Effect.Monad.State.Transformer.Base.html#777" class="Bound">S</a> <a id="897" class="Symbol">→</a> <a id="899" href="Effect.Monad.State.Transformer.Base.html#777" class="Bound">S</a><a id="900" class="Symbol">)</a> <a id="902" class="Symbol">→</a> <a id="904" href="Effect.Monad.State.Transformer.Base.html#796" class="Bound">M</a> <a id="906" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>

  <a id="RawMonadState.put"></a><a id="911" href="Effect.Monad.State.Transformer.Base.html#911" class="Function">put</a> <a id="915" class="Symbol">=</a> <a id="917" href="Effect.Monad.State.Transformer.Base.html#885" class="Field">modify</a> <a id="924" href="Function.Base.html#3646" class="Function Operator">∘′</a> <a id="927" href="Function.Base.html#725" class="Function">const</a>
  <a id="RawMonadState.get"></a><a id="935" href="Effect.Monad.State.Transformer.Base.html#935" class="Function">get</a> <a id="939" class="Symbol">=</a> <a id="941" href="Effect.Monad.State.Transformer.Base.html#858" class="Field">gets</a> <a id="946" href="Function.Base.html#704" class="Function">id</a>

<a id="950" class="Comment">------------------------------------------------------------------------</a>
<a id="1023" class="Comment">-- State monad transformer</a>

<a id="1051" class="Keyword">record</a> <a id="StateT"></a><a id="1058" href="Effect.Monad.State.Transformer.Base.html#1058" class="Record">StateT</a>
       <a id="1072" class="Symbol">(</a><a id="1073" href="Effect.Monad.State.Transformer.Base.html#1073" class="Bound">S</a> <a id="1075" class="Symbol">:</a> <a id="1077" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1081" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a><a id="1082" class="Symbol">)</a>
       <a id="1091" class="Symbol">(</a><a id="1092" href="Effect.Monad.State.Transformer.Base.html#1092" class="Bound">M</a> <a id="1094" class="Symbol">:</a> <a id="1096" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1100" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1108" href="Effect.Monad.State.Transformer.Base.html#585" class="Generalizable">f</a><a id="1109" class="Symbol">)</a>
       <a id="1118" class="Symbol">(</a><a id="1119" href="Effect.Monad.State.Transformer.Base.html#1119" class="Bound">A</a> <a id="1121" class="Symbol">:</a> <a id="1123" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1127" href="Effect.Monad.State.Transformer.Base.html#587" class="Generalizable">s</a><a id="1128" class="Symbol">)</a>
       <a id="1137" class="Symbol">:</a> <a id="1139" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1143" class="Symbol">(</a><a id="1144" href="Effect.Monad.State.Transformer.Base.html#1081" class="Bound">s</a> <a id="1146" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="1148" href="Effect.Monad.State.Transformer.Base.html#1108" class="Bound">f</a><a id="1149" class="Symbol">)</a> <a id="1151" class="Keyword">where</a>
  <a id="1159" class="Keyword">constructor</a> <a id="mkStateT"></a><a id="1171" href="Effect.Monad.State.Transformer.Base.html#1171" class="InductiveConstructor">mkStateT</a>
  <a id="1182" class="Keyword">field</a> <a id="StateT.runStateT"></a><a id="1188" href="Effect.Monad.State.Transformer.Base.html#1188" class="Field">runStateT</a> <a id="1198" class="Symbol">:</a> <a id="1200" href="Effect.Monad.State.Transformer.Base.html#1073" class="Bound">S</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="Effect.Monad.State.Transformer.Base.html#1092" class="Bound">M</a> <a id="1206" class="Symbol">(</a><a id="1207" href="Effect.Monad.State.Transformer.Base.html#1073" class="Bound">S</a> <a id="1209" href="Data.Product.Base.html#1118" class="Function Operator">×</a> <a id="1211" href="Effect.Monad.State.Transformer.Base.html#1119" class="Bound">A</a><a id="1212" class="Symbol">)</a>
<a id="1214" class="Keyword">open</a> <a id="1219" href="Effect.Monad.State.Transformer.Base.html#1058" class="Module">StateT</a> <a id="1226" class="Keyword">public</a>

<a id="evalStateT"></a><a id="1234" href="Effect.Monad.State.Transformer.Base.html#1234" class="Function">evalStateT</a> <a id="1245" class="Symbol">:</a> <a id="1247" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="1258" href="Effect.Monad.State.Transformer.Base.html#629" class="Generalizable">M</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="Effect.Monad.State.Transformer.Base.html#1058" class="Record">StateT</a> <a id="1269" href="Effect.Monad.State.Transformer.Base.html#615" class="Generalizable">S</a> <a id="1271" href="Effect.Monad.State.Transformer.Base.html#629" class="Generalizable">M</a> <a id="1273" href="Effect.Monad.State.Transformer.Base.html#601" class="Generalizable">A</a> <a id="1275" class="Symbol">→</a> <a id="1277" href="Effect.Monad.State.Transformer.Base.html#615" class="Generalizable">S</a> <a id="1279" class="Symbol">→</a> <a id="1281" href="Effect.Monad.State.Transformer.Base.html#629" class="Generalizable">M</a> <a id="1283" href="Effect.Monad.State.Transformer.Base.html#601" class="Generalizable">A</a>
<a id="1285" href="Effect.Monad.State.Transformer.Base.html#1234" class="Function">evalStateT</a> <a id="1296" href="Effect.Monad.State.Transformer.Base.html#1296" class="Bound">M</a> <a id="1298" href="Effect.Monad.State.Transformer.Base.html#1298" class="Bound">ma</a> <a id="1301" href="Effect.Monad.State.Transformer.Base.html#1301" class="Bound">s</a> <a id="1303" class="Symbol">=</a> <a id="1305" class="Keyword">let</a> <a id="1309" class="Keyword">open</a> <a id="1314" href="Effect.Functor.html#579" class="Module">RawFunctor</a> <a id="1325" href="Effect.Monad.State.Transformer.Base.html#1296" class="Bound">M</a> <a id="1327" class="Keyword">in</a> <a id="1330" href="Data.Product.Base.html#631" class="Field">proj₂</a> <a id="1336" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="1340" href="Effect.Monad.State.Transformer.Base.html#1188" class="Field">runStateT</a> <a id="1350" href="Effect.Monad.State.Transformer.Base.html#1298" class="Bound">ma</a> <a id="1353" href="Effect.Monad.State.Transformer.Base.html#1301" class="Bound">s</a>

<a id="execStateT"></a><a id="1356" href="Effect.Monad.State.Transformer.Base.html#1356" class="Function">execStateT</a> <a id="1367" class="Symbol">:</a> <a id="1369" href="Effect.Functor.html#579" class="Record">RawFunctor</a> <a id="1380" href="Effect.Monad.State.Transformer.Base.html#629" class="Generalizable">M</a> <a id="1382" class="Symbol">→</a> <a id="1384" href="Effect.Monad.State.Transformer.Base.html#1058" class="Record">StateT</a> <a id="1391" href="Effect.Monad.State.Transformer.Base.html#615" class="Generalizable">S</a> <a id="1393" href="Effect.Monad.State.Transformer.Base.html#629" class="Generalizable">M</a> <a id="1395" href="Effect.Monad.State.Transformer.Base.html#601" class="Generalizable">A</a> <a id="1397" class="Symbol">→</a> <a id="1399" href="Effect.Monad.State.Transformer.Base.html#615" class="Generalizable">S</a> <a id="1401" class="Symbol">→</a> <a id="1403" href="Effect.Monad.State.Transformer.Base.html#629" class="Generalizable">M</a> <a id="1405" href="Effect.Monad.State.Transformer.Base.html#615" class="Generalizable">S</a>
<a id="1407" href="Effect.Monad.State.Transformer.Base.html#1356" class="Function">execStateT</a> <a id="1418" href="Effect.Monad.State.Transformer.Base.html#1418" class="Bound">M</a> <a id="1420" href="Effect.Monad.State.Transformer.Base.html#1420" class="Bound">ma</a> <a id="1423" href="Effect.Monad.State.Transformer.Base.html#1423" class="Bound">s</a> <a id="1425" class="Symbol">=</a> <a id="1427" class="Keyword">let</a> <a id="1431" class="Keyword">open</a> <a id="1436" href="Effect.Functor.html#579" class="Module">RawFunctor</a> <a id="1447" href="Effect.Monad.State.Transformer.Base.html#1418" class="Bound">M</a> <a id="1449" class="Keyword">in</a> <a id="1452" href="Data.Product.Base.html#617" class="Field">proj₁</a> <a id="1458" href="Effect.Functor.html#687" class="Function Operator">&lt;$&gt;</a> <a id="1462" href="Effect.Monad.State.Transformer.Base.html#1188" class="Field">runStateT</a> <a id="1472" href="Effect.Monad.State.Transformer.Base.html#1420" class="Bound">ma</a> <a id="1475" href="Effect.Monad.State.Transformer.Base.html#1423" class="Bound">s</a>
</pre></body></html>