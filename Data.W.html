<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.W</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- W-types</a>
<a id="117" class="Comment">------------------------------------------------------------------------</a>

<a id="191" class="Symbol">{-#</a> <a id="195" class="Keyword">OPTIONS</a> <a id="203" class="Pragma">--cubical-compatible</a> <a id="224" class="Pragma">--safe</a> <a id="231" class="Symbol">#-}</a>

<a id="236" class="Keyword">module</a> <a id="243" href="Data.W.html" class="Module">Data.W</a> <a id="250" class="Keyword">where</a>

<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Level.html" class="Module">Level</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Function.Base.html" class="Module">Function.Base</a> <a id="301" class="Keyword">using</a> <a id="307" class="Symbol">(</a><a id="308" href="Function.Base.html#2003" class="Function Operator">_$_</a><a id="311" class="Symbol">;</a> <a id="313" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="316" class="Symbol">;</a> <a id="318" href="Function.Base.html#725" class="Function">const</a><a id="323" class="Symbol">)</a>
<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Data.Product.html" class="Module">Data.Product</a> <a id="350" class="Keyword">using</a> <a id="356" class="Symbol">(</a><a id="357" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a><a id="360" class="Symbol">;</a> <a id="362" href="Data.Product.Base.html#1432" class="Function Operator">-,_</a><a id="365" class="Symbol">;</a> <a id="367" href="Data.Product.Base.html#631" class="Field">proj₂</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.Container.Core.html" class="Module">Data.Container.Core</a> <a id="406" class="Keyword">using</a> <a id="412" class="Symbol">(</a><a id="413" href="Data.Container.Core.html#567" class="Record">Container</a><a id="422" class="Symbol">;</a> <a id="424" href="Data.Container.Core.html#764" class="Function Operator">⟦_⟧</a><a id="427" class="Symbol">;</a> <a id="429" href="Data.Container.Core.html#647" class="Field">Shape</a><a id="434" class="Symbol">;</a> <a id="436" href="Data.Container.Core.html#668" class="Field">Position</a><a id="444" class="Symbol">;</a> <a id="446" href="Data.Container.Core.html#1063" class="Record Operator">_⇒_</a><a id="449" class="Symbol">;</a> <a id="451" href="Data.Container.Core.html#1295" class="Function Operator">⟪_⟫</a><a id="454" class="Symbol">)</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Data.Container.Relation.Unary.All.html" class="Module">Data.Container.Relation.Unary.All</a> <a id="502" class="Keyword">using</a> <a id="508" class="Symbol">(</a><a id="509" href="Data.Container.Relation.Unary.All.html#552" class="Record">□</a><a id="510" class="Symbol">;</a> <a id="512" href="Data.Container.Relation.Unary.All.html#671" class="InductiveConstructor">all</a><a id="515" class="Symbol">)</a>
<a id="517" class="Keyword">open</a> <a id="522" class="Keyword">import</a> <a id="529" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="555" class="Keyword">using</a> <a id="561" class="Symbol">(</a><a id="562" href="Relation.Nullary.Negation.Core.html#824" class="Function Operator">¬_</a><a id="564" class="Symbol">)</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a> <a id="600" class="Keyword">using</a> <a id="606" class="Symbol">(</a><a id="607" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="610" class="Symbol">;</a> <a id="612" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="616" class="Symbol">)</a>

<a id="619" class="Keyword">private</a>
  <a id="629" class="Keyword">variable</a>
    <a id="642" href="Data.W.html#642" class="Generalizable">s</a> <a id="644" href="Data.W.html#644" class="Generalizable">p</a> <a id="646" href="Data.W.html#646" class="Generalizable">s₁</a> <a id="649" href="Data.W.html#649" class="Generalizable">s₂</a> <a id="652" href="Data.W.html#652" class="Generalizable">p₁</a> <a id="655" href="Data.W.html#655" class="Generalizable">p₂</a> <a id="658" href="Data.W.html#658" class="Generalizable">ℓ</a> <a id="660" class="Symbol">:</a> <a id="662" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="672" href="Data.W.html#672" class="Generalizable">C</a> <a id="674" class="Symbol">:</a> <a id="676" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="686" href="Data.W.html#642" class="Generalizable">s</a> <a id="688" href="Data.W.html#644" class="Generalizable">p</a>
    <a id="694" href="Data.W.html#694" class="Generalizable">C₁</a> <a id="697" class="Symbol">:</a> <a id="699" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="709" href="Data.W.html#646" class="Generalizable">s₁</a> <a id="712" href="Data.W.html#652" class="Generalizable">p₁</a>
    <a id="719" href="Data.W.html#719" class="Generalizable">C₂</a> <a id="722" class="Symbol">:</a> <a id="724" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="734" href="Data.W.html#649" class="Generalizable">s₂</a> <a id="737" href="Data.W.html#655" class="Generalizable">p₂</a>

<a id="741" class="Comment">-- The family of W-types.</a>

<a id="768" class="Keyword">data</a> <a id="W"></a><a id="773" href="Data.W.html#773" class="Datatype">W</a> <a id="775" class="Symbol">(</a><a id="776" href="Data.W.html#776" class="Bound">C</a> <a id="778" class="Symbol">:</a> <a id="780" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="790" href="Data.W.html#642" class="Generalizable">s</a> <a id="792" href="Data.W.html#644" class="Generalizable">p</a><a id="793" class="Symbol">)</a> <a id="795" class="Symbol">:</a> <a id="797" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="801" class="Symbol">(</a><a id="802" href="Data.W.html#790" class="Bound">s</a> <a id="804" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="806" href="Data.W.html#792" class="Bound">p</a><a id="807" class="Symbol">)</a> <a id="809" class="Keyword">where</a>
  <a id="W.sup"></a><a id="817" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="821" class="Symbol">:</a> <a id="823" href="Data.Container.Core.html#764" class="Function Operator">⟦</a> <a id="825" href="Data.W.html#776" class="Bound">C</a> <a id="827" href="Data.Container.Core.html#764" class="Function Operator">⟧</a> <a id="829" class="Symbol">(</a><a id="830" href="Data.W.html#773" class="Datatype">W</a> <a id="832" href="Data.W.html#776" class="Bound">C</a><a id="833" class="Symbol">)</a> <a id="835" class="Symbol">→</a> <a id="837" href="Data.W.html#773" class="Datatype">W</a> <a id="839" href="Data.W.html#776" class="Bound">C</a>

<a id="sup-injective₁"></a><a id="842" href="Data.W.html#842" class="Function">sup-injective₁</a> <a id="857" class="Symbol">:</a> <a id="859" class="Symbol">∀</a> <a id="861" class="Symbol">{</a><a id="862" href="Data.W.html#862" class="Bound">s</a> <a id="864" href="Data.W.html#864" class="Bound">t</a> <a id="866" class="Symbol">:</a> <a id="868" href="Data.Container.Core.html#647" class="Field">Shape</a> <a id="874" href="Data.W.html#672" class="Generalizable">C</a><a id="875" class="Symbol">}</a> <a id="877" class="Symbol">{</a><a id="878" href="Data.W.html#878" class="Bound">f</a> <a id="880" class="Symbol">:</a> <a id="882" href="Data.Container.Core.html#668" class="Field">Position</a> <a id="891" href="Data.W.html#672" class="Generalizable">C</a> <a id="893" href="Data.W.html#862" class="Bound">s</a> <a id="895" class="Symbol">→</a> <a id="897" href="Data.W.html#773" class="Datatype">W</a> <a id="899" href="Data.W.html#672" class="Generalizable">C</a><a id="900" class="Symbol">}</a> <a id="902" class="Symbol">{</a><a id="903" href="Data.W.html#903" class="Bound">g</a><a id="904" class="Symbol">}</a> <a id="906" class="Symbol">→</a>
                 <a id="925" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="929" class="Symbol">(</a><a id="930" href="Data.W.html#862" class="Bound">s</a> <a id="932" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="934" href="Data.W.html#878" class="Bound">f</a><a id="935" class="Symbol">)</a> <a id="937" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="939" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="943" class="Symbol">(</a><a id="944" href="Data.W.html#864" class="Bound">t</a> <a id="946" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="948" href="Data.W.html#903" class="Bound">g</a><a id="949" class="Symbol">)</a> <a id="951" class="Symbol">→</a> <a id="953" href="Data.W.html#862" class="Bound">s</a> <a id="955" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="957" href="Data.W.html#864" class="Bound">t</a>
<a id="959" href="Data.W.html#842" class="Function">sup-injective₁</a> <a id="974" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="979" class="Symbol">=</a> <a id="981" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="987" class="Comment">-- See also Data.W.WithK.sup-injective₂.</a>

<a id="1029" class="Comment">-- Projections.</a>

<a id="head"></a><a id="1046" href="Data.W.html#1046" class="Function">head</a> <a id="1051" class="Symbol">:</a> <a id="1053" href="Data.W.html#773" class="Datatype">W</a> <a id="1055" href="Data.W.html#672" class="Generalizable">C</a> <a id="1057" class="Symbol">→</a> <a id="1059" href="Data.Container.Core.html#647" class="Field">Shape</a> <a id="1065" href="Data.W.html#672" class="Generalizable">C</a>
<a id="1067" href="Data.W.html#1046" class="Function">head</a> <a id="1072" class="Symbol">(</a><a id="1073" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="1077" class="Symbol">(</a><a id="1078" href="Data.W.html#1078" class="Bound">x</a> <a id="1080" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1082" href="Data.W.html#1082" class="Bound">f</a><a id="1083" class="Symbol">))</a> <a id="1086" class="Symbol">=</a> <a id="1088" href="Data.W.html#1078" class="Bound">x</a>

<a id="tail"></a><a id="1091" href="Data.W.html#1091" class="Function">tail</a> <a id="1096" class="Symbol">:</a> <a id="1098" class="Symbol">(</a><a id="1099" href="Data.W.html#1099" class="Bound">x</a> <a id="1101" class="Symbol">:</a> <a id="1103" href="Data.W.html#773" class="Datatype">W</a> <a id="1105" href="Data.W.html#672" class="Generalizable">C</a><a id="1106" class="Symbol">)</a> <a id="1108" class="Symbol">→</a> <a id="1110" href="Data.Container.Core.html#668" class="Field">Position</a> <a id="1119" href="Data.W.html#672" class="Generalizable">C</a> <a id="1121" class="Symbol">(</a><a id="1122" href="Data.W.html#1046" class="Function">head</a> <a id="1127" href="Data.W.html#1099" class="Bound">x</a><a id="1128" class="Symbol">)</a> <a id="1130" class="Symbol">→</a> <a id="1132" href="Data.W.html#773" class="Datatype">W</a> <a id="1134" href="Data.W.html#672" class="Generalizable">C</a>
<a id="1136" href="Data.W.html#1091" class="Function">tail</a> <a id="1141" class="Symbol">(</a><a id="1142" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Data.W.html#1147" class="Bound">x</a> <a id="1149" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1151" href="Data.W.html#1151" class="Bound">f</a><a id="1152" class="Symbol">))</a> <a id="1155" class="Symbol">=</a> <a id="1157" href="Data.W.html#1151" class="Bound">f</a>

<a id="1160" class="Comment">-- map</a>

<a id="map"></a><a id="1168" href="Data.W.html#1168" class="Function">map</a> <a id="1172" class="Symbol">:</a> <a id="1174" class="Symbol">(</a><a id="1175" href="Data.W.html#1175" class="Bound">m</a> <a id="1177" class="Symbol">:</a> <a id="1179" href="Data.W.html#694" class="Generalizable">C₁</a> <a id="1182" href="Data.Container.Core.html#1063" class="Record Operator">⇒</a> <a id="1184" href="Data.W.html#719" class="Generalizable">C₂</a><a id="1186" class="Symbol">)</a> <a id="1188" class="Symbol">→</a> <a id="1190" href="Data.W.html#773" class="Datatype">W</a> <a id="1192" href="Data.W.html#694" class="Generalizable">C₁</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="Data.W.html#773" class="Datatype">W</a> <a id="1199" href="Data.W.html#719" class="Generalizable">C₂</a>
<a id="1202" href="Data.W.html#1168" class="Function">map</a> <a id="1206" href="Data.W.html#1206" class="Bound">m</a> <a id="1208" class="Symbol">(</a><a id="1209" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="1213" class="Symbol">(</a><a id="1214" href="Data.W.html#1214" class="Bound">x</a> <a id="1216" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1218" href="Data.W.html#1218" class="Bound">f</a><a id="1219" class="Symbol">))</a> <a id="1222" class="Symbol">=</a> <a id="1224" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Data.Container.Core.html#1295" class="Function Operator">⟪</a> <a id="1231" href="Data.W.html#1206" class="Bound">m</a> <a id="1233" href="Data.Container.Core.html#1295" class="Function Operator">⟫</a> <a id="1235" class="Symbol">(</a><a id="1236" href="Data.W.html#1214" class="Bound">x</a> <a id="1238" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1240" class="Symbol">λ</a> <a id="1242" href="Data.W.html#1242" class="Bound">p</a> <a id="1244" class="Symbol">→</a> <a id="1246" href="Data.W.html#1168" class="Function">map</a> <a id="1250" href="Data.W.html#1206" class="Bound">m</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Data.W.html#1218" class="Bound">f</a> <a id="1255" href="Data.W.html#1242" class="Bound">p</a><a id="1256" class="Symbol">)))</a>

<a id="1261" class="Comment">-- induction</a>

<a id="1275" class="Keyword">module</a> <a id="1282" href="Data.W.html#1282" class="Module">_</a> <a id="1284" class="Symbol">(</a><a id="1285" href="Data.W.html#1285" class="Bound">P</a> <a id="1287" class="Symbol">:</a> <a id="1289" href="Data.W.html#773" class="Datatype">W</a> <a id="1291" href="Data.W.html#672" class="Generalizable">C</a> <a id="1293" class="Symbol">→</a> <a id="1295" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1299" href="Data.W.html#658" class="Generalizable">ℓ</a><a id="1300" class="Symbol">)</a>
         <a id="1311" class="Symbol">(</a><a id="1312" href="Data.W.html#1312" class="Bound">alg</a> <a id="1316" class="Symbol">:</a> <a id="1318" class="Symbol">∀</a> <a id="1320" class="Symbol">{</a><a id="1321" href="Data.W.html#1321" class="Bound">t</a><a id="1322" class="Symbol">}</a> <a id="1324" class="Symbol">→</a> <a id="1326" href="Data.Container.Relation.Unary.All.html#552" class="Record">□</a> <a id="1328" href="Data.W.html#672" class="Generalizable">C</a> <a id="1330" href="Data.W.html#1285" class="Bound">P</a> <a id="1332" href="Data.W.html#1321" class="Bound">t</a> <a id="1334" class="Symbol">→</a> <a id="1336" href="Data.W.html#1285" class="Bound">P</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="1343" href="Data.W.html#1321" class="Bound">t</a><a id="1344" class="Symbol">))</a> <a id="1347" class="Keyword">where</a>

 <a id="1355" href="Data.W.html#1355" class="Function">induction</a> <a id="1365" class="Symbol">:</a> <a id="1367" class="Symbol">(</a><a id="1368" href="Data.W.html#1368" class="Bound">w</a> <a id="1370" class="Symbol">:</a> <a id="1372" href="Data.W.html#773" class="Datatype">W</a> <a id="1374" href="Data.W.html#1291" class="Bound">C</a><a id="1375" class="Symbol">)</a> <a id="1377" class="Symbol">→</a> <a id="1379" href="Data.W.html#1285" class="Bound">P</a> <a id="1381" href="Data.W.html#1368" class="Bound">w</a>
 <a id="1384" href="Data.W.html#1355" class="Function">induction</a> <a id="1394" class="Symbol">(</a><a id="1395" href="Data.W.html#817" class="InductiveConstructor">sup</a> <a id="1399" class="Symbol">(</a><a id="1400" href="Data.W.html#1400" class="Bound">s</a> <a id="1402" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1404" href="Data.W.html#1404" class="Bound">f</a><a id="1405" class="Symbol">))</a> <a id="1408" class="Symbol">=</a> <a id="1410" href="Data.W.html#1312" class="Bound">alg</a> <a id="1414" href="Function.Base.html#2003" class="Function Operator">$</a> <a id="1416" href="Data.Container.Relation.Unary.All.html#671" class="InductiveConstructor">all</a> <a id="1420" class="Symbol">(</a><a id="1421" href="Data.W.html#1355" class="Function">induction</a> <a id="1431" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1433" href="Data.W.html#1404" class="Bound">f</a><a id="1434" class="Symbol">)</a>

<a id="1437" class="Keyword">module</a> <a id="1444" href="Data.W.html#1444" class="Module">_</a> <a id="1446" class="Symbol">{</a><a id="1447" href="Data.W.html#1447" class="Bound">P</a> <a id="1449" class="Symbol">:</a> <a id="1451" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1455" href="Data.W.html#658" class="Generalizable">ℓ</a><a id="1456" class="Symbol">}</a> <a id="1458" class="Symbol">(</a><a id="1459" href="Data.W.html#1459" class="Bound">alg</a> <a id="1463" class="Symbol">:</a> <a id="1465" href="Data.Container.Core.html#764" class="Function Operator">⟦</a> <a id="1467" href="Data.W.html#672" class="Generalizable">C</a> <a id="1469" href="Data.Container.Core.html#764" class="Function Operator">⟧</a> <a id="1471" href="Data.W.html#1447" class="Bound">P</a> <a id="1473" class="Symbol">→</a> <a id="1475" href="Data.W.html#1447" class="Bound">P</a><a id="1476" class="Symbol">)</a> <a id="1478" class="Keyword">where</a>

 <a id="1486" href="Data.W.html#1486" class="Function">foldr</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Data.W.html#773" class="Datatype">W</a> <a id="1496" href="Data.W.html#1467" class="Bound">C</a> <a id="1498" class="Symbol">→</a> <a id="1500" href="Data.W.html#1447" class="Bound">P</a>
 <a id="1503" href="Data.W.html#1486" class="Function">foldr</a> <a id="1509" class="Symbol">=</a> <a id="1511" href="Data.W.html#1355" class="Function">induction</a> <a id="1521" class="Symbol">(</a><a id="1522" href="Function.Base.html#725" class="Function">const</a> <a id="1528" href="Data.W.html#1447" class="Bound">P</a><a id="1529" class="Symbol">)</a> <a id="1531" class="Symbol">(</a><a id="1532" href="Data.W.html#1459" class="Bound">alg</a> <a id="1536" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1538" href="Data.Product.Base.html#1432" class="Function Operator">-,_</a> <a id="1542" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1544" href="Data.Container.Relation.Unary.All.html#683" class="Field">□.proof</a><a id="1551" class="Symbol">)</a>

<a id="1554" class="Comment">-- If Position is always inhabited, then W_C is empty.</a>

<a id="inhabited⇒empty"></a><a id="1610" href="Data.W.html#1610" class="Function">inhabited⇒empty</a> <a id="1626" class="Symbol">:</a> <a id="1628" class="Symbol">(∀</a> <a id="1631" href="Data.W.html#1631" class="Bound">s</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Data.Container.Core.html#668" class="Field">Position</a> <a id="1644" href="Data.W.html#672" class="Generalizable">C</a> <a id="1646" href="Data.W.html#1631" class="Bound">s</a><a id="1647" class="Symbol">)</a> <a id="1649" class="Symbol">→</a> <a id="1651" href="Relation.Nullary.Negation.Core.html#824" class="Function Operator">¬</a> <a id="1653" href="Data.W.html#773" class="Datatype">W</a> <a id="1655" href="Data.W.html#672" class="Generalizable">C</a>
<a id="1657" href="Data.W.html#1610" class="Function">inhabited⇒empty</a> <a id="1673" href="Data.W.html#1673" class="Bound">b</a> <a id="1675" class="Symbol">=</a> <a id="1677" href="Data.W.html#1486" class="Function">foldr</a> <a id="1683" class="Symbol">((</a><a id="1685" href="Function.Base.html#2003" class="Function Operator">_$</a> <a id="1688" href="Data.W.html#1673" class="Bound">b</a> <a id="1690" class="Symbol">_)</a> <a id="1693" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1695" href="Data.Product.Base.html#631" class="Field">proj₂</a><a id="1700" class="Symbol">)</a>
</pre></body></html>